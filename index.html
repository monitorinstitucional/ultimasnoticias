<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Clipping STF</title>
  <style>
    :root{--bg:#0b0c10;--card:#12141b;--txt:#e9eefc;--muted:#a6adbb;--line:#222635;--brand:#1f6feb}
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;background:var(--bg);color:var(--txt)}
    header{position:sticky;top:0;background:rgba(11,12,16,.95);backdrop-filter:blur(8px);border-bottom:1px solid var(--line);z-index:10}
    .wrap{max-width:1100px;margin:0 auto;padding:16px}
    h1{margin:0 0 6px 0;font-size:18px}
    .subhead{margin:0;font-size:12px;color:var(--muted)}
    button,select{border:1px solid var(--line);background:var(--card);color:var(--txt);border-radius:12px;padding:10px 12px;font-size:14px;cursor:pointer}
    button.primary{background:var(--brand);border-color:var(--brand)}
    button:disabled{opacity:.6;cursor:not-allowed}
    .row{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px;align-items:center}
    .status{margin-top:10px;font-size:12px;color:var(--muted)}
    .grid{display:grid;gap:12px;padding:16px}
    .card{background:var(--card);border:1px solid var(--line);border-radius:16px;padding:14px}
    .pill{display:inline-block;padding:6px 10px;border-radius:999px;font-size:12px;border:1px solid var(--line);color:var(--muted);margin-bottom:10px}
    .title{margin:0;font-size:16px;font-weight:700;line-height:1.3}
    .title a{color:var(--txt);text-decoration:none}
    .title a:hover{text-decoration:underline}
    .date{margin-top:6px;font-size:12px;color:var(--muted)}
    .link{margin-top:8px;font-size:12px;color:var(--muted);word-break:break-word}
    .actions{margin-top:12px;display:flex;gap:10px;flex-wrap:wrap}
    footer{padding:0 16px 24px;font-size:12px;color:var(--muted)}
  </style>
</head>
<body>
<header>
  <div class="wrap">
    <h1>üóûÔ∏è Clipping autom√°tico ‚Äî STF</h1>
    <p class="subhead">Lista √∫nica de not√≠cias sobre o STF e seus ministros, do mais novo para o mais antigo.</p>
    <div class="row">
      <select id="source"><option value="ALL">Todos os jornais</option></select>
      <button id="refreshBtn" class="primary">Atualizar agora</button>
    </div>
    <div class="status" id="status">Pronta para atualizar.</div>
  </div>
</header>
<main class="wrap"><div class="grid" id="list"></div></main>
<footer class="wrap">Agregador de links p√∫blicos. Conte√∫do pertence aos ve√≠culos originais.</footer>
<script>
const FEEDS=[
{name:"UOL",url:"https://rss.uol.com.br/feed/noticias.xml"},
{name:"Folha de S.Paulo",url:"https://feeds.folha.uol.com.br/emcimadahora/rss091.xml"},
{name:"Estad√£o",url:"https://www.estadao.com.br/rss/ultimas.xml"},
{name:"O Globo",url:"https://oglobo.globo.com/rss/oglobo.xml"},
{name:"Ag√™ncia Brasil",url:"https://agenciabrasil.ebc.com.br/rss/ultimasnoticias/feed.xml"},
{name:"CNN Brasil",url:"https://www.cnnbrasil.com.br/feed/"},
{name:"BBC Brasil",url:"https://feeds.bbci.co.uk/portuguese/rss.xml"},
{name:"G1",url:"https://g1.globo.com/rss/g1/"},
{name:"Metr√≥poles",url:"https://www.metropoles.com/feed"},
{name:"Correio Braziliense",url:"https://www.correiobraziliense.com.br/rss/ultimas.xml"},
{name:"Valor Econ√¥mico",url:"https://valor.globo.com/rss/valor.xml"},
{name:"CartaCapital",url:"https://www.cartacapital.com.br/feed/"},
{name:"Veja",url:"https://veja.abril.com.br/feed/"},
{name:"Isto√â",url:"https://istoe.com.br/feed/"},
{name:"R7",url:"https://noticias.r7.com/rss.xml"},
{name:"JOTA",url:"https://www.jota.info/feed"},
{name:"Migalhas",url:"https://www.migalhas.com.br/rss"},
{name:"DW Brasil",url:"https://rss.dw.com/rdf/rss-pt-br"},
{name:"Poder360",url:"https://www.poder360.com.br/feed/"},
{name:"Congresso em Foco",url:"https://congressoemfoco.uol.com.br/feed/"},
{name:"O Tempo",url:"https://www.otempo.com.br/rss/ultimas"},
{name:"ConJur",url:"https://www.conjur.com.br/rss.xml"},
{name:"Plat√¥BR",url:"https://platobr.com.br/feed/"},
{name:"ICL Not√≠cias",url:"https://iclnoticias.com.br/feed/"},
{name:"Revista Oeste",url:"https://revistaoeste.com/feed/"},
{name:"O Antagonista",url:"https://oantagonista.com.br/feed/"},
{name:"Cruso√©",url:"https://revistacrusoe.com.br/feed/"}
];
const KEYWORDS=["stf","supremo tribunal federal","supremo","ministro do supremo","ministros do supremo","ex-ministro do supremo","ex-ministros do supremo","edson fachin","fachin","alexandre de moraes","moraes","gilmar mendes","gilmar","carmen lucia","c√°rmen l√∫cia","carmen","c√°rmen","dias toffoli","toffoli","luiz fux","fux","flavio dino","fl√°vio dino","dino","cristiano zanin","zanin","andre mendonca","andr√© mendon√ßa","mendon√ßa","nunes marques","nunes"];
const RSS2JSON=url=>`https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(url)}`;
const els={source:document.getElementById("source"),refresh:document.getElementById("refreshBtn"),list:document.getElementById("list"),status:document.getElementById("status")};
const norm=t=>t.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");
const match=i=>KEYWORDS.some(k=>norm(i.title+" "+(i.description||"")).includes(norm(k)));
const fmt=d=>d.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"});
async function fetchFeed(f){const r=await fetch(RSS2JSON(f.url));const j=await r.json();return(j.items||[]).map(i=>{const d=new Date(i.pubDate||i.publishedDate||i.date||null);return{title:i.title,link:i.link,description:i.description||"",source:f.name,date:isNaN(d)?null:d}})}
function render(items){els.list.innerHTML="";if(!items.length){els.list.innerHTML="<div class='card'>Nenhuma not√≠cia encontrada.</div>";return}items.forEach(n=>{const wa=`https://wa.me/?text=${encodeURIComponent(n.title+"\n"+n.link)}`;const c=document.createElement("div");c.className="card";c.innerHTML=`<div class="pill">${n.source}</div><h2 class="title"><a href="${n.link}" target="_blank">${n.title}</a></h2><div class="date">üìÖ ${n.date?fmt(n.date):"Data n√£o informada"}</div><div class="link">${n.link}</div><div class="actions"><a href="${wa}" target="_blank"><button>Compartilhar no WhatsApp</button></a></div>`;els.list.appendChild(c)})}
async function run(){els.refresh.disabled=true;els.status.textContent="Atualizando‚Ä¶";const pick=els.source.value;const feeds=pick==="ALL"?FEEDS:FEEDS.filter(f=>f.name===pick);let all=[];const r=await Promise.allSettled(feeds.map(fetchFeed));r.forEach(x=>{if(x.status==="fulfilled")all.push(...x.value)});let f=all.filter(match);f=[...new Map(f.map(i=>[i.link,i])).values()];f.sort((a,b)=>(b.date||0)-(a.date||0));els.status.textContent=`Atualizado ‚Ä¢ ${f.length} not√≠cia(s)`;render(f);els.refresh.disabled=false}
FEEDS.forEach(f=>{const o=document.createElement("option");o.value=f.name;o.textContent=f.name;els.source.appendChild(o)});
els.refresh.addEventListener("click",run);setInterval(run,10*60*1000);run();
</script>
</body>
</html>
